#!/bin/sh
### BEGIN INIT INFO
# Provides:          barbican-api
# Required-Start:    $network $local_fs $remote_fs $syslog
# Required-Stop:     $remote_fs
# Should-Start:      postgresql mysql keystone rabbitmq-server ntp
# Should-Stop:       postgresql mysql keystone rabbitmq-server ntp
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Barbican API daemon
# Description:       The Barbican project provides services for storing
#                    and retrieving sensitive client information such as
#                    encryption keys. This is the API daemon.
### END INIT INFO

# Author: Thomas Goirand <zigo@debian.org>
DESC="OpenStack Barbican Key Management APIs"
PROJECT_NAME=barbican
NAME=${PROJECT_NAME}-api

script
    uwsgi --master --die-on-term --emperor /etc/barbican/vassals --logto /var/log/barbican/barbican-api.log --stats localhost:9314
end script
